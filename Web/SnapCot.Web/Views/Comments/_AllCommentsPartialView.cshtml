@model SnapCot.Web.ViewModels.CommentsViewModels.PageableCommentViewModel
<div class="row">
    <h2>Comments</h2>
    <div class="col-md-8" id="comments">
        @if (Model.Comments != null && Model.Comments.Count() == 0)
        {
            <h3>No Comments Yet</h3>
        }
        else
        {
            foreach (var item in Model.Comments)
            {
                <h3>@item.Author</h3>
                <span>@item.CreatedOn</span>
                <p>@Html.Raw(item.Content)</p>

                if (this.User.Identity.IsAuthenticated && this.User.IsInRole("Admin"))
                {
                    @Html.ActionLink("Delete", "DeleteComment", "Comments", new { item.Id }, new { @class = "btn btn-success" })
                }
            }
        }
        <nav>
            <ul class="pagination">

                @if (Model.CurrentPage > 1)
            {
                    <li>
                        <a href="/Comments/All?page=@(Model.CurrentPage - 1)" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                }
                @for (int i = 1; i <= Model.TotalPages; i++)
            {
                var className = string.Empty;
                if (Model.CurrentPage == i)
                {
                    className = "active";
                }

                <li class="@className">
                    <a href="/Comments/All?page=@i">@i</a>
                </li>
                }

                @if (Model.CurrentPage < Model.TotalPages)
            {
                    <li>
                        <a href="/Comments/All?page=@(Model.CurrentPage + 1)" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                }
            </ul>
        </nav>
    </div>
</div>
